% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_parameter_info.R
\name{create_parameter_info}
\alias{create_parameter_info}
\title{Create parameter information list for model fitting}
\usage{
create_parameter_info(
  parameter_values,
  lower_bounds = NULL,
  upper_bounds = NULL,
  estimate_flag = NULL,
  formulas = NULL,
  model_data = NULL,
  link_functions = NULL,
  sep = "."
)
}
\arguments{
\item{parameter_values}{Named numeric vector of initial parameter values, or an existing
\code{parameter_info} object to update. Must have unique, non-empty names.}

\item{lower_bounds}{List or named vector of lower bounds for parameter estimates.
If NULL, defaults to -Inf. Can be recycled to match parameter structure.}

\item{upper_bounds}{List or named vector of upper bounds for parameter estimates.
If NULL, defaults to Inf. Can be recycled to match parameter structure.}

\item{estimate_flag}{List, vector, or logical of values (1/TRUE for estimated, 0/FALSE for fixed).
If NULL, defaults to 1 (estimate all). Can be recycled to match parameter structure.}

\item{formulas}{List of formulas for each parameter, or a single formula to apply to all.
If NULL, defaults to ~1 (intercept only).}

\item{model_data}{Data frame used to generate design matrices. If NULL, design matrices are NULL
and a warning is issued.}

\item{link_functions}{List or character vector of link function names.
If NULL, defaults to 'identity'. Supports character strings or function objects.}

\item{sep}{Separator for parameter names in composite parameter lists (default \".\").}
}
\value{
An S3 object of class \code{parameter_info} with the following structure:
\item{parameter_values}{Named list of parameter values (expanded by design matrix columns)}
\item{lower_bounds}{Named list of lower bounds}
\item{upper_bounds}{Named list of upper bounds}
\item{estimate_flag}{Named list of 1/0 flags for estimation}
\item{link_functions}{Named list of link functions}
\item{formulas}{Named list of formulas}
\item{design_matrices}{Named list of design matrices (one per parameter)}
\item{model_data}{Data frame used for design matrix generation}
\item{sep}{Separator for parameter names}
}
\description{
Constructs a \code{parameter_info} S3 object for likelihood-based model fitting,
supporting starting values, bounds, estimate flags, links, formulas, and compositional updates.
}
\details{
This function is compositional: you can use previous output as input, modifying specific slots
(e.g., formulas) while preserving others. The inclusion of \code{model_data} ensures reproducibility.

The function performs the following steps:
\enumerate{
\item Validates parameter_values as a named numeric vector or existing parameter_info object
\item Initializes formulas (default ~1), link functions (default 'identity'), and bounds (default ?Inf)
\item Expands bounds, flags, and other arguments to match parameter structure
\item Generates design matrices from formulas and model_data
\item Returns S3 object with class parameter_info
}

For compositional updates, pass an existing parameter_info object as \code{parameter_values}
and specify only the arguments you wish to change.
}
\examples{
# Example 1: Basic parameter setup with no formulas
df <- expand.grid(Capital = c("A", "B"), Lower = c("a", "b"))
info1 <- create_parameter_info(
  parameter_values = c(k = 2, lambda = 10, c = 0),
  estimate_flag = c(k = 1, lambda = 1, c = 0),
  lower_bounds = c(k = 0, lambda = 0, c = -1),
  upper_bounds = c(k = Inf, lambda = Inf, c = 1)
)

# Example 2: With formulas and model data
info2 <- create_parameter_info(
  parameter_values = c(k = 2, lambda = 10, c = 0),
  estimate_flag = c(k = 1, lambda = 1, c = 0),
  formulas = list(k = ~0+Capital, lambda = ~1, c = ~Capital*Lower),
  model_data = df
)

# Example 3: Compositional update - modify only the k formula
info3 <- create_parameter_info(
  parameter_values = info2,
  formulas = list(k = ~Capital + Lower)
)

# Example 4: With link functions
info4 <- create_parameter_info(
  parameter_values = c(k = 2, lambda = 10, c = 0),
  formulas = list(k = ~Capital, lambda = ~1, c = ~1),
  link_functions = c(\"log\", \"log\", \"identity\"),
  model_data = df
)

}
